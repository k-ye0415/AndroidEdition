# Annotaion
- ì†ŒìŠ¤ ì½”ë“œì— ë©”íƒ€ë°ì´í„°ë¥¼ ì¶”ê°€í•˜ëŠ” ë°©ë²• ì¤‘ í•˜ë‚˜.
- í•´ë‹¹ ë©”íƒ€ë°ì´í„°ëŠ” ì»´íŒŒì¼ëŸ¬ë‚˜ ë‹¤ë¥¸ ë„êµ¬ê°€ ì†ŒìŠ¤ ì½”ë“œë¥¼ ì²˜ë¦¬í•˜ê±°ë‚˜ ì‹¤í–‰í•  ë•Œ ì •ë³´ë¥¼ ì œê³µí•œë‹¤.
- ë˜í•œ ì½”ë“œë¥¼ ë” ê°„ê²°í•˜ê³  ê°€ë…ì„± ìˆê²Œ ë§Œë“¤ê³ , ëŸ°ë‹¤ì„ ë™ì‘ì„ ë³€ê²½í•˜ê±°ë‚˜ ê°œì„ í•˜ëŠ”ë° ë„ì›€ì´ ëœë‹¤.

[[ì°¸ê³ ì‚¬ì´íŠ¸ #1]]
### ğŸ“Œ Resource ê´€ë ¨ Annotation
ë©”ì„œë“œë‚˜ ì§€ì—­ ë³€ìˆ˜, í•„ë“œ ë°˜í™˜ ê°’ì´ ë¦¬ì†ŒìŠ¤ ì°¸ì¡°ê°€ ë  ê²ƒìœ¼ë¡œ ì˜ˆìƒë¨ì„ ë‚˜íƒ€ë‚¸ë‹¤.
- `@AnimatorRes` : animator ë¦¬ì†ŒìŠ¤ ì°¸ì¡° (`android.R.animator.`)
- `@AnimRes` : anim ë¦¬ì†ŒìŠ¤ ì°¸ì¡° (`android.R.anim.`)
- `@AnyRes` : ëª¨ë“  íƒ€ì…ì˜ ë¦¬ì†ŒìŠ¤ ì°¸ì¡° (íŠ¹ì • íƒ€ì…ì„ ì•Œê³  ìˆëŠ” ê²½ìš° êµ¬ì²´ì ì¸ ì£¼ì„ì„ ì‚¬ìš©í•˜ë©´ ë¨)
- `@ArrayRes` : ë°°ì—´ íƒ€ì…ì˜ ë¦¬ì†ŒìŠ¤ ì°¸ì¡° (`android.R.array.`)
- `@AttrRes` : attribute ë¦¬ì†ŒìŠ¤ ì°¸ì¡° (`android.R.attr.`)
- `@BoolRes` : boolean ë¦¬ì†ŒìŠ¤ ì°¸ì¡°
- `@ColorRes` : color ë¦¬ì†ŒìŠ¤ ì°¸ì¡° (`android.R.color.`)
- `@DimenRes` : dimen ë¦¬ì†ŒìŠ¤ ì°¸ì¡° (`android.R.dimen.`)
- `@DrawableRes` : drawable ë¦¬ì†ŒìŠ¤ ì°¸ì¡° (`android.R.attr.`)
- `@FontRes` : font ë¦¬ì†ŒìŠ¤ ì°¸ì¡° (`R.font.`)
- `@FractionRes` : í¼ì„¼íŠ¸ ë¦¬ì†ŒìŠ¤ ì°¸ì¡° (`R.fraction.`)
- `@IdRes` : id ë¦¬ì†ŒìŠ¤ ì°¸ì¡° (`R.id.`)
- `@IntegerRes` : integer ë¦¬ì†ŒìŠ¤ ì°¸ì¡° (`android.R.integer.`)
- `@InterpolatorRes` : interpolator ë¦¬ë¡œìŠ¤ ì°¸ì¡° (`android.R.interpolator.`)
- `@LayoutRes` : layout ë¦¬ì†ŒìŠ¤ ì°¸ì¡° (`android.R.layout.`)
- `@MenuRes` : menu ë¦¬ì†ŒìŠ¤ ì°¸ì¡°
- `@NavigationRes` : navigation ë¦¬ì†ŒìŠ¤ ì°¸ì¡° (`R.navigation.`)
- `@PluralsRes` : plurals(ê°œìˆ˜ì— ë”°ë¥¸ ë¬¸ìì—´ í‘œí˜„) ë¦¬ì†ŒìŠ¤ ì°¸ì¡°  
`getQuantityString` ë©”ì„œë“œì²˜ëŸ¼ ì•„ì´í…œì˜ ê°¯ìˆ˜ì— ë”°ë¥¸ ê°ê° ë‹¤ë¥¸ ë¬¸ìì—´ì„ í‘œí˜„í•˜ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©í•˜ëŠ” resource íƒ€ì…. [[ì°¸ê³ ì‚¬ì´íŠ¸ #2]]
- `@RawRes` : raw(ì›ë³¸ ë¦¬ì†ŒìŠ¤. ex. txt, ìŒì•… íŒŒì¼ ë“±) ë¦¬ì†ŒìŠ¤ ì°¸ì¡°
- `@StringRes` : string ë¦¬ì†ŒìŠ¤ ì°¸ì¡°
- `@StyleableRes` : styleable ë¦¬ì†ŒìŠ¤ ì°¸ì¡° (`android.R.styleable.`)
- `@StyleRes` : style ë¦¬ì†ŒìŠ¤ ì°¸ì¡° (`android.R.style.`)
- `@TransitionRes` : transition(ì „í™˜ ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼) ë¦¬ì†ŒìŠ¤ ì°¸ì¡°
- `@XmlRes` : XML ë¦¬ì†ŒìŠ¤ ì°¸ì¡°

### ğŸ“Œ Thread ê´€ë ¨ Annotation
ë©”ì†Œë“œì— í•´ë‹¹ Annotationì´ ë¶™ì€ ê²½ìš° í•´ë‹¹ ìŠ¤ë ˆë“œì—ì„œ í˜¸ì¶œë  ìˆ˜ ìˆìŒì„ ë‚˜íƒ€ë‚¸ë‹¤.  
í´ë˜ìŠ¤ì— ë¶™ì€ ê²½ìš° í´ë˜ìŠ¤ì˜ ëª¨ë“  ë©”ì†Œë“œëŠ” í•´ë‹¹ ìŠ¤ë ˆë“œì—ì„œ í˜¸ì¶œ ë  ìˆ˜ ìˆë‹¤.
- `@AnyThread` : ëª¨ë“  ìŠ¤ë ˆë“œì—ì„œ í˜¸ì¶œ ê°€ëŠ¥.
- `@BindThread` : ë°”ì¸ë” ìŠ¤ë ˆë“œì—ì„œë§Œ í˜¸ì¶œ ê°€ëŠ¥. (ì„œë¹„ìŠ¤ì˜ ë³„ë„ ìŠ¤ë ˆë“œ)
- `@MaintThread(@UiThread)` : ë©”ì¸ (UI) ìŠ¤ë ˆë“œì—ì„œë§Œ í˜¸ì¶œ ê°€ëŠ¥.
- `@WorkerThread` : worker(ë°±ê·¸ë¼ìš´ë“œ ì‘ì—… ê°™ì€ ì˜¤ë˜ ê±¸ë¦¬ëŠ” ì‘ì—…) ìŠ¤ë ˆë“œì—ì„œë§Œ í˜¸ì¶œ ê°€ëŠ¥.

### ğŸ“Œ ê·¸ ë°–ì˜ ìœ ìš©í•œ Annotation
- `@CallSuper` : í•´ë‹¹ Annotationì´ ë¶™ì€ ë©”ì„œë“œë¥¼ í•˜ìœ„ í´ë˜ìŠ¤ì—ì„œ ì˜¤ë²„ë¼ì´ë“œí• ë• ë°˜ë“œì‹œ ìƒìœ„ í´ë ˆìŠ¤ì˜ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë„ë¡ ê°•ì œí•¨ì„ ë‚˜íƒ€ëƒ„.  
**ex) Activityì˜ Lifecycle**
- `@CheckResult` : í•´ë‹¹ Annotationì´ ë¶™ì€ ë©”ì„œë“œê°€ ë¦¬í„´í•œ ê²°ê³¼ê°’ì„ ê°œë°œìê°€ ë”°ë¡œ ì‚¬ìš©í•˜ì§€ ì•Šê³  ë¬´ì‹œí–ˆì„ ë•Œ ì˜¤ë¥˜ë¥¼ ë°œìƒ.
```kotlin
@CheckResult
fun trim(s: String) = s.trim()
...
s.trim() // ê²°ê³¼ê°’ì„ ë”°ë¡œ ì„¸íŒ…í•˜ì§€ ì•Šì•„ì£¼ì—ˆìœ¼ë¯€ë¡œ ì»´íŒŒì¼ ì—ëŸ¬ ë°œìƒ
val str = s.trim() // ok
```
- `@CheckSdkIntAtLeast` : í•´ë‹¹ Annotationì´ ì¶”ê°€ëœ ë©”ì„œë“œê°€ `SDK_INT API`ë ˆë²¨ì´ ìµœì†Œ ì£¼ì–´ì§„ ê°’ì´ ê²€ì‚¬í•˜ê³  ê²°ê³¼ë¥¼ ë°˜í™˜í•˜ê±°ë‚˜ ì§€ì •ëœ ëŒë‹¤ì‹ì„ ì‹¤í–‰.
```kotlin
@ChecksSdkIntAtLeast(api = Build.VERSION_CODES.O)
fun isAtLeastO() = Build.VERSION.SDK_INT >= 26

// ì–´ë…¸í…Œì´ì…˜ì˜ ì¸ìë¡œ ë“¤ì–´ê°ˆ ìˆ˜ ìˆëŠ” ì†ì„±ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.
// api: Int -> ìµœì†Œ API
// codename: String -> ìµœì†Œ APIì˜ ì½”ë“œëª…("R")
// lambda: Int -> ìµœì†Œ API ë ˆë²¨ì„ ë§Œì¡±í•  ê²½ìš° ì‹¤í–‰ë  ëŒë‹¤ì˜ íŒŒë¼ë¯¸í„° ë²ˆí˜¸
// parameter: Int -> ìµœì†Œ API ë ˆë²¨ì´ íŒŒë¼ë¯¸í„°ì— ì§€ì •ë˜ë©° ì²« ë²ˆì§¸ íŒŒë¼ë¯¸í„° ë²ˆí˜¸ëŠ” 0ë¶€í„° ì‹œì‘ì…ë‹ˆë‹¤.
@ChecksSdkIntAtLeast(parameter = 0, lambda = 1)
inline fun fromApi(value: Int, action: () -> Unit) {
  if (Build.VERSION.SDK_INT >= value) {
    action()
  }
}

// 0ë²ˆì§¸ íŒŒë¼ë¯¸í„°ì— ìµœì†Œ API ë ˆë²¨ì„ ì£¼ì—ˆìœ¼ë©° 1ë²ˆì§¸ íŒŒë¼ë¯¸í„°ì— ì‹¤í–‰ë  ëŒë‹¤ì‹ì„ ë„£ì–´ì¤Œì„ ëœ»í•©ë‹ˆë‹¤.
// Kotlin í”„ë¡œí¼í‹°ì—ë„ ì‚¬ìš© ê°€ëŠ¥
@get:ChecksSdkIntAtLeast(api = Build.VERSION_CODES.GINGERBREAD)
val isGingerbread: Boolean
  get() = Build.VERSION.SDK_INT >= Build.VERSION_CODES.GINGERBREAD
```
- `@ContentView` : ìƒì„±ìì— ì—°ê²°í•  ìˆ˜ ìˆëŠ” Annotationì´ë©° `LayoutRes`ë¥¼ ìƒì„±ìì˜ ì¸ìë¡œ ë°›ìœ¼ë©´ `setContentView`ë¥¼ ëŒ€ì²´í•´ì¤€ë‹¤.
```kotlin
class MainFragment: Fragment {
  fun MainFragment() {
    // ì•„ë˜ ìƒì„±ìëŠ” @ContentView ì–´ë…¸í…Œì´ì…˜ì´ ì—°ê²°ë˜ì–´ ìˆìŠµë‹ˆë‹¤.
    super(R.layout.main)
  }
}
// Fragment ë‚´ë¶€ ì½”ë“œ
@ContentView
public Fragment(@LayoutRes int contentLayoutId) {
    this();
    mContentLayoutId = contentLayoutId;
}
```
- `@DoNotInline` : ì½”ë“œê°€ ë¹Œë“œ ì‹œ ìµœì í™” í•  ë•Œ Annotation ì´ ì—°ê²°ëœ ë©”ì†Œë“œëŠ” ì¸ë¼ì¸ìœ¼ë¡œ ë³€ê²½ë˜ì§€ ì•Šì•„ì•¼ í•¨ì„ ë‚˜íƒ€ë‚¸ë‹¤.
ì´ëŠ” ì¼ë°˜ì ìœ¼ë¡œ ë³„ë„ì˜ í´ë˜ìŠ¤ì— í¬í•¨ë˜ë„ë¡ ì˜ë„ì ìœ¼ë¡œ ë¼ì¸ ì™¸ë¶€ ë©”ì„œë“œì˜ ì¸ë¼ì¸ì„ ë°©ì§€í•˜ëŠ” ë° ì‚¬ìš©í•œë‹¤.
- `@GuardedBy` : í•´ë‹¹ í•„ë“œë‚˜ ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ `Lock`ë¥¼ ë³´ìœ í•´ì•¼í•˜ë§Œ ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.
```kotlin
private val anyLock = Any()

@GuardedBy("anyLock") // anyLock ê°ì²´ë¥¼ ë³´ìœ í•´ì•¼ í•„ë“œ ì ‘ê·¼ ê°€ëŠ¥
@Volatile
private var lockObject : Any? = null

fun getLock(): Any? {
    synchronized(anyLock) {
        if (lockObject == null) {
            lockObject = Any()
        }
    }
    return lockObject
}
```
- `@Keep` : ë¹Œë“œ ì‹œ ì½”ë“œê°€ ìµœì í™” ë  ë•Œ Annotation ì´ ì—°ê²°ëœ ìš”ì†Œë¥¼ ì œê±°í•˜ì§€ ì•Šì•„ì•¼ í•¨ì„ ë‚˜íƒ€ë‚¸ë‹¤.
- `@OptIn` : Annotation ì´ ì—°ê²°ëœ íŒŒì¼, ì„ ì–¸, ì‹ì—ì„œ `opt-in API`ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. [[ì°¸ê³ ì‚¬ì´íŠ¸ #3]]
![annotation_img.png](https://github.com/k-ye0415/AndroidEdition/blob/01661a7148fa349c7a069c781344960f05144165/Android_default/Android_image/annotation_img.png)
- `@RequiresOptIn` : í•´ë‹¹ Annotation ì´ ì—°ê²°ëœ ìš”ì†Œê°€ `opt-in API`ì˜ ë§ˆì»¤ì„ì„ ë‚˜íƒ€ë‚¸ë‹¤. ë¶ˆì•ˆì •í•˜ê±°ë‚˜ ë¹„í‘œì¤€ APIì˜ ì¼ë¶€ë¡œ ê°„ì£¼ë˜ë©° í•´ë‹¹ ìš”ì†Œë¥¼ í˜¸ì¶œí•˜ë ¤ë©´ `OptIn`ì„ ì‚¬ìš©í•˜ê±°ë‚˜ `@OptIn` Annotation ì„ ë‹¬ì•„ì•¼ í•œë‹¤.
- `@RequiresApi` : í•´ë‹¹ Annotation ì€ `@TargetApi`ì™€ ìœ ì‚¬í•˜ê²Œ ì§€ë©ëœ APIë ˆë²¨ ì´ìƒì—ì„œë§Œ í˜¸ì¶œë˜ì–´ì•¼ í•¨ì„ ì˜ë¯¸í•˜ì§€ë§Œ, **í•´ë‹¹ ë©”ì†Œë“œì— ëŒ€í•œ í˜¸ì¶œìì˜ ìš”êµ¬ì‚¬í•­ì„ì„ ë”ìš± ëª…í™•í•˜ê²Œ ë‚˜íƒ€ë‚¸ë‹¤.**
- `@RequirePermission` : í•˜ë‚˜ ì´ìƒì˜ ê¶Œí•œì´ í•„ìš”í•˜ê±°ë‚˜ í•„ìš”í•  ìˆ˜ ìˆìŒì„ ë‚˜íƒ€ë‚´ëŠ” Annotation ì´ë‹¤.
```kotlin
// ë‹¨ì¼ ê¶Œí•œì´ í•„ìš”í•œ ì˜ˆ
@RequiresPermission(ACCESS_COARSE_LOCATION)
abstract fun getLastKnownLocation(String provider): Location
// í•˜ë‚˜ ì´ìƒì˜ ê¶Œí•œì„ ìš”êµ¬í•˜ëŠ” ì˜ˆ
@RequiresPermission(
  anyOf = { ACCESS_COARSE_LOCATION, ACCESS_FINE_LOCATION }
)
abstract fun getLastKnownLocation(String provider): Location
// ì—¬ëŸ¬ ê¶Œí•œì´ í•„ìš”í•œ ì˜ˆ
@RequiresPermission(
  allOf = {ACCESS_COARSE_LOCATION, ACCESS_FINE_LOCATION}
)
abstract fun getLastKnownLocation(String provider): Location
// Content Providerì— ëŒ€í•´ ë³„ë„ì˜ ì½ê¸° ë° ì“°ê¸° ê¶Œí•œì„ ìš”êµ¬í•˜ëŠ” ì˜ˆ
@RequiresPermission.Read(
  @RequiresPermission(READ_HISTORY_BOOKMARKS)
)    @RequiresPermission.Write(
  @RequiresPermission(WRITE_HISTORY_BOOKMARKS)
)
const val BOOKMARKS_URI = Uri.parse("content://browser/bookmarks")
// ë§¤ê°œ ë³€ìˆ˜ì— ì§€ì •ëœ ê²½ìš° ì–´ë…¸í…Œì´ì…˜ì€ ë©”ì†Œë“œì— ë§¤ê°œ ë³€ìˆ˜ ê°’ì— ë”°ë¥¸ ê¶Œí•œì´ í•„ìš”í•¨ì„ 
// ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.
fun startActivity(@RequiresPermission intent: Intent) { ... }
```
- `@RestrictTo` : í•´ë‹¹ ìš”ì†ŒëŠ” íŠ¹ì • ë²”ìœ„ ë‚´ì—ì„œë§Œ ì•¡ì„¸ìŠ¤í•´ì•¼ í•¨ì„ ë‚˜íƒ€ë‚¸ë‹¤. (ex. Scope)
```kotlin
// ë¼ì´ë¸ŒëŸ¬ë¦¬ ë‚´ ì‚¬ìš© ì œí•œ ì˜ˆ(Group Id)
@RestrictTo(GROUP_ID)
fun resetPaddingToInitialValues() { ... }

// í…ŒìŠ¤íŠ¸ì—ì„œë§Œ ì‚¬ìš© ì œí•œ ì˜ˆ
@RestrictScope(TESTS)
abstract fun getUserId(): Int

// ì„œë¸Œ í´ë˜ì‹œì—ì„œë§Œ ì‚¬ìš©ì„ ì œí•œí•˜ëŠ” ì˜ˆ
@RestrictScope(SUBCLASSES)
fun onDrawForeground(canvas: Canvas) { ... }
```
- `@VisibleForTesting` : ì„ íƒì ìœ¼ë¡œ ê°€ì‹œì„±ì„ ì§€ì •í•  ìˆ˜ ìˆë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ í…ŒìŠ¤íŒ…ìš©ìœ¼ë¡œë§Œ ê³µê°œë  ìˆ˜ ìˆê²Œ ì§€ì •ëœë‹¤.
```kotlin
@VisibleForTesting(otherwise = VisibleForTesting.PROTECTED)
fun printDiagnostics(): String { ... }
// NONE -> ì¸ìê°€ ì—†ì„ ì‹œ ê¸°ë³¸ ì§€ì •. í•´ë‹¹ ìš”ì†ŒëŠ” í…ŒìŠ¤íŠ¸ì—ì„œë§Œ í˜¸ì¶œë˜ì–´ì•¼ í•©ë‹ˆë‹¤.
// PACKAGE_PRIVATE -> íŒ¨í‚¤ì§€ ë¹„ê³µê°œ ê°€ì‹œì„±ì„ ê°–ìŠµë‹ˆë‹¤.
// PRIVATE 
// PROTECTED
```
- `@ColorInt` : íŒ¨í‚¹ëœ ìƒ‰ìƒ int ë¥¼ ë‚˜íƒ€ëƒ„ì„ ì˜ë¯¸í•œë‹¤.
- `@Dimension` : ë³€ìˆ˜, í•„ë“œ ë˜ëŠ” ë©”ì†Œë“œì˜ ë°˜í™˜ ê°’ì´ `dimension`ì„ ë‚˜íƒ€ë‚¼ ê²ƒìœ¼ë¡œ ì˜ˆìƒë¨ì„ ë‚˜íƒ€ë‚¸ë‹¤. 
`unit`ì¸ìˆ˜ë¡œ **DP(0),** **PX(1),** **SP(2)** ë¥¼ ì§€ì •í•  ìˆ˜ ìˆë‹¤.
- `@px` : ë³€ìˆ˜, í•„ë“œ ë˜ëŠ” ë©”ì†Œë“œì˜ ë°˜í™˜ ê°’ì´ `pixel dimension`ì„ì„ ë‚˜íƒ€ë‚¸ë‹¤.
- `@FloatRange, @IntRange` : ê°ê° ì£¼ì–´ì§„ ë²”ìœ„ì—ì„œ `float` ë˜ëŠ” `duoble`, `int`ì´ì–´ì•¼ í•¨ì„ ë‚˜íƒ€ë‚¸ë‹¤.
```kotlin
@FloatRange(from=0.0, to=1.0)
fun getAlpha(): Float { ... }
```
- `@Size` : Annotation ì´ ì—°ê²°ëœ ìš”ì†Œê°€ ì£¼ì–´ì§„ í¬ê¸° ë˜ëŠ” ê¸¸ì´ë¥¼ ê°€ì ¸ì•¼í•¨ì„ ë‚˜íƒ€ë‚¸ë‹¤. (-1 ì€ ì„¤ì •ë˜ì§€ ì•ŠìŒì„ ì˜ë¯¸í•œë‹¤.)
```kotlin
fun getLocationInWindow(@Size(2) location: IntArray) { ... }
Size(value: Long, min: Long, max: Long, multiple: Long)
// value -> ì •í™•í•œ í¬ê¸° ì§€ì •
// min -> ìµœì†Œ í¬ê¸°
// max -> ìµœëŒ€ í¬ê¸°
// multiple -> í•´ë‹¹ ì¸ìì˜ ë°°ìˆ˜ í¬ê¸°
```

[ì°¸ê³ ì‚¬ì´íŠ¸ #1]: https://medium.com/hongbeomi-dev/android-annotation-%EC%A0%95%EB%A6%AC-8d0b5b6845c3
[ì°¸ê³ ì‚¬ì´íŠ¸ #2]: https://info-anikdey003.medium.com/android-quantity-strings-plurals-5ed3d7c62c16
[ì°¸ê³ ì‚¬ì´íŠ¸ #3]: https://kotlinlang.org/docs/opt-in-requirements.html